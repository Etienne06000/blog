[{"/var/www/blog/src/index.js":"1","/var/www/blog/src/App.js":"2","/var/www/blog/src/reportWebVitals.js":"3","/var/www/blog/src/components/navigation.js":"4","/var/www/blog/src/Routes.js":"5","/var/www/blog/src/contexts/RouteProvider.js":"6","/var/www/blog/src/pages/Login.js":"7","/var/www/blog/src/pages/Error404.js":"8","/var/www/blog/src/pages/Signup.js":"9","/var/www/blog/src/contexts/AuthProvider.js":"10","/var/www/blog/src/pages/Account.js":"11","/var/www/blog/src/pages/Home.js":"12","/var/www/blog/src/pages/DashboardPageTemplate.js":"13","/var/www/blog/src/components/Authentification/LoginForm.js":"14","/var/www/blog/src/utils/useForm.js":"15","/var/www/blog/src/constants/API.js":"16","/var/www/blog/src/components/TopDashboard.js":"17","/var/www/blog/src/contexts/ApiProvider.js":"18","/var/www/blog/src/components/Authentification/SignupForm.js":"19","/var/www/blog/src/assets/themes/Theme.js":"20"},{"size":500,"mtime":1610715467949,"results":"21","hashOfConfig":"22"},{"size":724,"mtime":1610718424042,"results":"23","hashOfConfig":"22"},{"size":362,"mtime":1607346124000,"results":"24","hashOfConfig":"22"},{"size":1863,"mtime":1612546270930,"results":"25","hashOfConfig":"22"},{"size":1935,"mtime":1610542538567,"results":"26","hashOfConfig":"22"},{"size":712,"mtime":1612296892874,"results":"27","hashOfConfig":"22"},{"size":2628,"mtime":1611147228443,"results":"28","hashOfConfig":"22"},{"size":148,"mtime":1608055528653,"results":"29","hashOfConfig":"22"},{"size":2879,"mtime":1611146885258,"results":"30","hashOfConfig":"22"},{"size":4474,"mtime":1611838357816,"results":"31","hashOfConfig":"22"},{"size":897,"mtime":1610543256617,"results":"32","hashOfConfig":"22"},{"size":1269,"mtime":1612548511611,"results":"33","hashOfConfig":"22"},{"size":5227,"mtime":1613494685947,"results":"34","hashOfConfig":"22"},{"size":3096,"mtime":1611146608779,"results":"35","hashOfConfig":"22"},{"size":1072,"mtime":1608122554257,"results":"36","hashOfConfig":"22"},{"size":626,"mtime":1610131118250,"results":"37","hashOfConfig":"22"},{"size":1227,"mtime":1608148186712,"results":"38","hashOfConfig":"22"},{"size":2014,"mtime":1609785873029,"results":"39","hashOfConfig":"22"},{"size":5671,"mtime":1611148202074,"results":"40","hashOfConfig":"22"},{"size":474,"mtime":1611753624779,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"7db1s4",{"filePath":"45","messages":"46","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"44"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"44"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"44"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"44"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"44"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"44"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"44"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"84","usedDeprecatedRules":"85"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"89"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"44"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"/var/www/blog/src/index.js",[],["95","96"],"/var/www/blog/src/App.js",["97","98","99","100"],"import logo from './logo.svg';\nimport './App.css';\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\nimport Routes from \"./Routes\";\nimport RouteProvider from \"./contexts/RouteProvider\";\nimport AuthProvider from \"./contexts/AuthProvider\";\nimport \"./constants/API\";\nimport { SnackbarProvider } from \"notistack\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport Theme from \"./assets/themes/Theme\";\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\nfunction App() {\n\treturn (\n\t\t<ThemeProvider theme={Theme}>\n\t\t\t<CssBaseline />\n\t\t\t\t<AuthProvider>\n\t\t\t\t        <RouteProvider>\n\t\t\t\t          <Routes />\n\t\t\t\t        </RouteProvider>\n\t\t\t\t</AuthProvider>\n\t\t</ThemeProvider>\n\t);\n}\n\nexport default App;\n","/var/www/blog/src/reportWebVitals.js",[],"/var/www/blog/src/components/navigation.js",["101"],"import React from 'react';\nimport {Link} from 'react-router-dom';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\n\nimport HomeIcon from '@material-ui/icons/Home';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport Grid from '@material-ui/core/Grid';\nimport GroupIcon from '@material-ui/icons/Group';\n\nconst useStyles = makeStyles(theme => ({\n  navigation: { \n  \tposition: 'fixed',\n  \tleft: 0,\n  \tright: 0,\n  \twidth: '100%',\n\ttop: \"auto\", \n\tbottom: 0,\n\tzIndex: 1300,\n  \theight: 'auto', \n\t// [theme.breakpoints.up('xs')]: {\n\t//   \ttop: \"auto\", \n\t//   \tbottom: 0,\t  \t\n //  \t\theight: 'auto',\t\n\t// },  \t\n\t// [theme.breakpoints.up('sm')]: {\n\t//   \ttop: 0,\t  \t\n //  \t\theight: '55px',\t\n\t// },  \t\n  },\n  content:{\n  \tbackground: theme.palette.secondary.background\n  },\n  button: {\n  \tcolor: '#fff'\n  },\n}));\n\nfunction Navigation() {\n  \tconst classes = useStyles();\n  \tconst [value, setValue] = React.useState('recents');\n\n  \tconst handleChange = (event, newValue) => {\n    \tsetValue(newValue);\n  \t};\n\n\n\treturn (\n\t\n\t\t<div className={classes.navigation}>\n\t\t\t<BottomNavigation value={value} onChange={handleChange} className={classes.content}>\n\t\t\t\t<Link to=\"/account\">\n\t\t\t\t\t\t<BottomNavigationAction className={classes.button} label=\"Favorites\" value=\"favorites\" icon={<GroupIcon />} />\n\t\t\t\t</Link>\n\t\t\t\t<Link to=\"/\" className={classes.button}>\n\t\t\t\t\t\t<BottomNavigationAction className={classes.button} label=\"Recents\" value=\"recents\" icon={<HomeIcon />} />\n\t\t\t\t</Link>\n\t\t\t\t<Link to=\"/account\">\n\t\t\t\t\t\t<BottomNavigationAction className={classes.button} label=\"Favorites\" value=\"favorites\" icon={<AccountCircleIcon />} />\n\t\t\t\t</Link>\n\t\t\t</BottomNavigation>\t\t\n\t\t</div>\n  \t);\n}\n\nexport default Navigation;\n","/var/www/blog/src/Routes.js",["102","103"],"import React, { useContext } from \"react\";\nimport {\n  Route,\n  Redirect,\n  Switch,\n  BrowserRouter as Router,\n} from \"react-router-dom\";\nimport { AuthContext } from \"./contexts/AuthProvider\";\nimport { RouteContext } from \"./contexts/RouteProvider\";\nimport Login from './pages/Login.js'\nimport Signup from './pages/Signup.js'\nimport Error404 from './pages/Error404.js'\nimport DashboardPageTemplate from \"./pages/DashboardPageTemplate\";\n\nfunction Routes(props) {\n\tconst { \n\t\tisAuthenticated, \n\t\tisRouteAuthorized, \n\t\tgetToken \n\t} = useContext(AuthContext);\n\t\n\tconst { routes } = useContext(RouteContext);\n\treturn (\n\t    <Router>\n\t      <Switch>\n\t        {/* full pages routes */}\n\n\t        <Route exact={true} path=\"/login\" component={Login} />\n\n\t        <Route exact={true} path=\"/signup\" component={Signup} />\n\n\t        {/*  dashboard routes */}\n\t         \n\t        {/* SI ON EST PAS AUTH MAIS QU IL Y A LE GETTOKEN METTRE UN LOADER*/}\n\n\t        {routes.map(({ path, name, icon, Component }, key) => {\n\t          return (\n\t            <Route\n\t              key={key}\n\t              exact\n\t              path={path}\n\t              render={(routeRenderingProps) => {\n\t                return getToken ? (\n\t                    <DashboardPageTemplate\n\t                      path={path}\n\t                      Component={Component}\n\t                      icon={icon}\n\t                      name={name}\n\t                      routeRenderingProps={routeRenderingProps}\n\t                    />\n\t                  ) : (\n\t                  <Redirect\n\t                    to={{\n\t                      pathname: \"/login\",\n\t                      state: { from: props.location },\n\t                    }}\n\t                  />\n\t                )\n\t              }}\n\t            ></Route>\n\t          )\n\t        })}\n\n\t        {/*  not found route */}\n\n\t        <Route component={Error404} />\n\t      </Switch>\n\t    </Router>\n  );\n}\n\nexport default Routes;","/var/www/blog/src/contexts/RouteProvider.js",[],"/var/www/blog/src/pages/Login.js",["104"],"import React, { useContext, useState } from 'react';\nimport { axios } from '../constants/API';\nimport { withRouter } from 'react-router-dom';\nimport Login from '../components/Authentification/LoginForm';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\nimport { AuthContext } from '../contexts/AuthProvider';\nimport { Link } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\n\n// Configuration du style\nconst useStyles = makeStyles(theme => ({\n  bg: {\n      background: theme.palette.secondary.background,\n      minHeight: '100vh'\n    },\n  header: {\n    padding: theme.spacing(8, 0),\n    textAlign: 'center'\n  },\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  },\n  paper: {\n    padding: theme.spacing(3, 2),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  link: {\n    textDecoration: 'none'\n  }\n}));\n\n/**\n * Page d'authentification\n */\nfunction LoginPage(props) {\n  // Initialisation du Style\n  const classes = useStyles();\n\n  // Initialisation Hook useAuth()\n  const { login, isAuthenticated } = useContext(AuthContext);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  function executePost(body) {\n    setLoading(true);\n    axios.post(`/login`, body.data)\n      .then(res => {\n        login(res);\n        window.location.reload();\n      })\n      .catch(\n        err => {\n          setError(err.response.data.message.message);\n          setLoading(false);\n        }\n      )    \n  }\n\n  if (isAuthenticated) {\n    props.history.push('/');\n  }\n\n  return (\n    <div className={classes.bg}>\n    <Container component=\"main\" maxWidth=\"xs\">\n      <header className={classes.header}>\n      </header>\n      <Paper className={classes.paper}>\n        <div>\n        <Link to=\"/signup\" className={classes.link}>\n          <Button variant=\"outlined\" color=\"secondary\" className={classes.link}>\n            S'inscrire\n          </Button>\n        </Link>        \n        </div>      \n        <Login\n          title=\"Connexion\"\n          execute={executePost}\n          loader={\n            loading && (\n              <CircularProgress size={24} className={classes.buttonProgress} />\n            )\n          }\n        />\n        <div>\n          {error}\n        </ div>\n      </Paper>\n    </Container>\n    </div>\n  );\n}\nexport default withRouter(LoginPage);\n","/var/www/blog/src/pages/Error404.js",[],"/var/www/blog/src/pages/Signup.js",[],"/var/www/blog/src/contexts/AuthProvider.js",["105","106","107"],"import React, { useState, useEffect } from 'react';\nimport decode from 'jwt-decode';\nimport Cookies from 'universal-cookie';\nimport { axios } from \"../constants/API\";\n\nexport const AuthContext = React.createContext({});\n\nconst cookies = new Cookies();\n\nexport default function AuthProvider(props) {\n  const getToken = localStorage.getItem('token');\n\n  const getTokenExpireAt = localStorage.getItem('expire_at');\n\n  const isTokenExpired = Number(getTokenExpireAt) < Date.now() / 1000;\n\n  const [isAuthenticated, setIsAuthenticated] = useState(\n    !!getToken && !isTokenExpired\n  );\n\n\n  // useEffect(() => {\n  //   if (Number(getTokenExpireAt) !== 0 && isTokenExpired) {\n  //     //console.log('refresh-token');\n  //     axios.post('/refresh-token')\n  //     .then((response) => {\n  //       login(response);\n  //     })\n  //     .catch(() => logout());\n  //   }\n  // }, []);\n\n  axios.interceptors.response.use(\n    (response) => {\n      return response;\n    }, (err) => {\n      if (err.response.status === 403) {\n        logout();\n        return;\n      }\n      if (err.config.url !== '/login' &&\n          err.config.url !== '/refresh-token' &&\n          err.config.url !== '/inscriptions' \n        ) {      \n        return new Promise((resolve, reject) => {\n          const originalReq = err.config;\n          if (err.response.status === 401 &&\n            err.config &&\n            !err.config.__isRetryRequest &&\n            err.config.url !== '/login' &&\n            err.config.url !== '/refresh-token' &&\n            err.config.url !== '/inscriptions'\n          ) {\n            originalReq.retry = true;\n\n            let res = axios\n            .post('/refresh-token')\n            .then((response) => {\n              login(response);\n              return axios(originalReq);\n            })\n            .catch(() => logout());\n\n            resolve(res);\n          }\n          return Promise.reject(err);\n        \n        })\n      }\n          return Promise.reject(err);\n    })\n\n\n\n  //const [isAuthenticated, setIsAuthenticated] = useState(true);\n\n  const login = (response) => {\n    if (response.status === 200 && response.data.token) {\n      const token = response.data.token;\n      const decode_token = decode(token);\n      const expire_at = decode_token.exp;\n      const refresh = response.data.data.refreshToken;\n      const refresh_expire_at = response.data.data.refreshExpire;\n      const date_expiration = new Date(0);\n      const date_expiration_refresh = new Date(0);\n      date_expiration.setUTCSeconds(expire_at);\n      date_expiration_refresh.setUTCSeconds(refresh_expire_at);\n      let secure = true;\n\n      if (process.env.REACT_APP_ENV === 'dev') {\n        secure = false;\n      }\n\n      // cookies.set('gniapiblogi', token, {\n      //   expires: date_expiration,\n      //   secure: secure,\n      //   httpOnly: true,\n      //   sameSite: true\n      // });\n      // cookies.set('gbr', refresh, {\n      //   expires: date_expiration_refresh,\n      //   secure: false,\n      //   httpOnly: false,\n      //   sameSite: false\n      // });\n\n      localStorage.setItem('email', decode_token.email);\n      localStorage.setItem('uuid', decode_token.uuid);\n      localStorage.setItem('uU', btoa(decode_token.login));\n      localStorage.setItem('token', 'true');\n      localStorage.setItem('expire_at', expire_at);\n\n      setIsAuthenticated(true);\n\n    } else {\n      setIsAuthenticated(false);\n    }\n  };\n\n  const logout = callback => {\n    \n    cookies.remove('gniapiblogi');\n    cookies.remove('gbr');\n    localStorage.removeItem('uuid');\n    localStorage.removeItem('email');\n    localStorage.removeItem('token');\n    localStorage.removeItem('expire_at');\n    localStorage.removeItem('uU');\n    setIsAuthenticated(false);\n    cookies.remove('gniapiblogi');\n    cookies.remove('gbr');\n    document.location.reload();\n  };\n\n  // const getRoles = () => {\n  //   return localStorage.getItem('roles')\n  //     ? localStorage.getItem('roles').split(',')\n  //     : ['ROLE_UTILISATEUR'];\n  // };\n\n\n  const onAPIResponseError = statusCode => {\n    let displayError = true;\n\n    if (statusCode === 403 || statusCode === 401) {\n      displayError = false;\n      //logout();\n    }\n\n    return displayError;\n  };\n\n  const values = {\n    isAuthenticated,\n    getTokenExpireAt,\n    isTokenExpired,\n    onAPIResponseError,\n    login,\n    logout,\n    getToken\n  };\n\n  return (\n    <AuthContext.Provider value={values}>\n      {props.children}\n    </AuthContext.Provider>\n  );\n}\n","/var/www/blog/src/pages/Account.js",["108"],"import React, { useContext, useState } from 'react';\nimport { AuthContext } from '../contexts/AuthProvider';\nimport Button from '@material-ui/core/Button';\nimport { axios } from '../constants/API';\n\nfunction Account() {\n\tconst { logout } = useContext(AuthContext);\n  const [loading, setLoading] = useState(false);\n\n  function executePost(body) {\n    setLoading(true);\n    axios.post(`/logout`, body.data)\n      .then(res => {\n        logout();\n        window.location.reload();\n      })\n      .catch(\n        err => {\n          setLoading(false);\n        }\n      )    \n  }\n\n  return (\n    <div className=\"App\">\n      <p>Your Account</p>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={executePost}\n          >\n            Logout\n          </Button>      \n    </div>\n  );\n}\n\nexport default Account;\n","/var/www/blog/src/pages/Home.js",["109","110","111","112"],"import React, { useState, useEffect, useContext } from 'react';\nimport { axios } from '../constants/API';\nimport { AuthContext } from '../contexts/AuthProvider';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport GroupIcon from '@material-ui/icons/Group';\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    padding: theme.spacing(3, 2),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: '2px',\n    // marginTop: '25px',\n    // marginBottom: '25px'\n  },\n}));\n\nfunction Home() {\n  const classes = useStyles();\n  const [msg, setMsg] = useState('');\n  const { isTokenExpired, getTokenExpireAt } = useContext(AuthContext);\n\n  useEffect(() => {\n    let mounted = true;\n    axios.get('/')\n      .then(res => {\n        if (mounted) {\n          setMsg(res.data.message)\n        }\n      })\n    return () => (mounted = false);\n  }, [])\n\n  return (\n    <Grid container>\n      <Grid item xs={12}>\n        <Paper className={classes.paper}>\n          <div className=\"App\">\n            <p>{msg}</p>\n          </div>\n        </Paper>\n      </Grid>     \n    </Grid>\n  );\n}\n\nexport default Home;\n\n\n","/var/www/blog/src/pages/DashboardPageTemplate.js",["113","114"],"/var/www/blog/src/components/Authentification/LoginForm.js",[],"/var/www/blog/src/utils/useForm.js",[],"/var/www/blog/src/constants/API.js",[],"/var/www/blog/src/components/TopDashboard.js",["115","116"],"import React from 'react';\nimport {Link} from 'react-router-dom';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\n\nimport HomeIcon from '@material-ui/icons/Home';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport Grid from '@material-ui/core/Grid';\n\nconst useStyles = makeStyles({\n  navigation: {\n  \ttop: \"auto\", \n  \ttop: 0, \n  \tposition: 'fixed',\n  \tleft: 0,\n  \tright: 0,\n  \twidth: '100%'\n  },\n});\n\nfunction TopDashboard() {\n  \tconst classes = useStyles();\n  \tconst [value, setValue] = React.useState('recents');\n\n  \tconst handleChange = (event, newValue) => {\n    \tsetValue(newValue);\n  \t};\n\n\n\treturn (\n\t\t<Grid\n\t\t  container\n\t\t  spacing={0}\n\t\t  direction=\"column\"\n\t\t  alignItems=\"center\"\n\t\t  justify=\"center\"\n\t\t>\t\t\n\t\t\t<div className={classes.navigation}>\n\t\t\t    <BottomNavigation value={value} onChange={handleChange} >\n\t\t\t\t\t<Link to=\"/account\">\n\t\t\t\t\t\t\t<BottomNavigationAction label=\"Favorites\" value=\"favorites\" icon={<AccountCircleIcon />} />\n\t\t\t\t\t</Link>   \n\t\t\t    </BottomNavigation>\t\t\n\t\t\t</div>\n\t\t</Grid>\n  \t);\n}\n\nexport default TopDashboard;\n",["117","118"],"/var/www/blog/src/contexts/ApiProvider.js",["119","120","121","122"],"import React, {useContext, useEffect} from \"react\";\nimport axios from \"axios\";\nimport { AuthContext } from '../contexts/AuthProvider';\n\nexport const ApiContext = React.createContext({});\n\nexport default function ApiProvider(props) {\n\n  \tconst { \n  \t\tlogin, \n  \t\tisTokenExpired, \n  \t\tgetTokenExpireAt \n  \t} = useContext(AuthContext);\n\n\tconst headers = {\n\t\tresponseType: 'json',\n\t\tcrossdomain: true,\n\t\twithCredentials: true,\n\t\theaders: {\n\t\tAccept: 'application/json',\n\t\t'Cache-Control': 'no-cache',\n\t\t'Content-Type': 'application/json',\n\t\t'Access-Control-Allow-Origin': '*',\n\t\t'Access-Control-Allow-Headers': 'Content-Type',\n\t\t'Access-Control-Allow-Methods': 'GET,PUT,POST,DELETE,PATCH,OPTIONS',\n\t\t'Access-Control-Allow-Credentials': true\n\t\t},\n\t\tdata: {},\n\t\tjson: true\n\t};\n\n\tconst baseURL = process.env.REACT_APP_BASE_URL;\n\t//let pre;\n\t// go useEffect\n\tuseEffect(() => {\n\n\t\taxios.interceptors.response.use((response) => response, (error) => {\n\t\t  // whatever you want to do with the error\n\t\t  let method = error.response.config.method;\n\t\t  let url = error.response.config.url;\n\t\t  let data = error.response.config.data;\n\t\t  const code = error.response.data.code;\n\t\t  console.log(code);\n\t\t  console.log(error);\n\t\t  console.log(data);\n\t\t  console.log(url);\n\n\t\t  console.log(error.response.data);\n\t\t  if (code == 401) {\n\t\t    axios.post(baseURL + `/refresh-token`, null, headers)\n\t\t      .then(res => {\n\t\t        console.log('succes');\n\t\t        console.log('res');\n\t\t        console.log(res);\n\t\t      \tlogin(res)\n\t\t        return axios.request(error.config);\n\t\t        //axios.method(url, data, headers)\n\t\t      })\n\t\t      .catch(\n\t\t        err => {\n\t\t          console.log('ntm');\n\t\t          console.log(err);\n\t\t          console.log(err.response);\n\t\t          return Promise.reject(error);\n\n\t\t        }\n\t\t      ) \n\t\t  }\n\t\t  return error.response;\n\t\t})\n\t})\n\n// #Test06!@\n\tconst values = {\n\t\theaders,\n\t\tbaseURL\n\t}\n\n\treturn (\n\t\t<ApiContext.Provider value={values}>\n\t\t\t\t{props.children}\n\t\t</ApiContext.Provider>\n\t);\t\n};",["123","124"],"/var/www/blog/src/components/Authentification/SignupForm.js",["125","126","127","128"],"/**\n * Ce fichier fait parti du projet e2Time.com - Administration React\n *\n * (c) e2Time.com <support@e2time.com\n *\n * L'utilisation ce fichier est soumis à l'autorisation expresse de la\n * société e2Time.com. Toute utilisation sans l'accord d'e2Time.com\n * fera l'objet de poursuites.\n */\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Select from '@material-ui/core/Select';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useForm from '../../utils/useForm';\nimport DatePicker from 'react-date-picker';\nimport Grid from '@material-ui/core/Grid';\n\n// Les PropsTypes du composant\nSignup.propTypes = {\n  title: PropTypes.string,\n  loader: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  execute: PropTypes.func\n};\n\n/**\n * Style du formulaire d'authentification\n *\n * @param  {Object} theme Thème Material UI\n * @return {Object}       Hook API pour générer le style\n */\nconst useStyles = makeStyles(theme => ({\n  wrapper: {\n    position: 'relative'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  formControl: {\n    margin: 0,\n    width: '100%'\n    // minWidth: 120,\n    // [theme.breakpoints.up('xs')]: {\n    //   width: '100%',\n    // },    \n    // [theme.breakpoints.up('sm')]: {\n    //   width: '30%',\n    // },      \n    //width: '30%'\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },  \n}));\n\n/**\n * Formulaire d'authentification\n */\nfunction Signup(props) {\n  // Initialisation du Style\n  const classes = useStyles();\n\n  // Initialisation Hook useForm()\n  const { values, handleChange, handleSubmit } = useForm(callback);\n\n  const [civility, setCivility] = useState('');\n  \n  const country = Intl.DateTimeFormat().resolvedOptions().timeZone;\n  const language = navigator.language;\n\n  const handleChangeCivility = (event) => {\n    setCivility(event.target.value);\n  };\n\n  /**\n   * Retour à la validation du formulaire\n   * @return {Function} Valide ou non l'authentification\n   */\n  function callback() {\n    values.civility = civility; \n    values.country = country; \n    values.language = language; \n    props.execute({ data: values });\n  }\n\n  return (\n    <>\n      <Typography component=\"h1\" variant=\"h5\">\n        {props.title}\n      </Typography>\n      <form className={classes.form} onSubmit={handleSubmit}>     \n        <TextField\n          variant=\"outlined\"\n          margin=\"normal\"\n          required\n          fullWidth\n          id=\"login\"\n          label=\"Username\"\n          name=\"login\"\n          autoComplete=\"Username\"\n          autoFocus\n          value={values.login || ''}\n          onChange={handleChange}\n        />\n        <FormControl className={classes.formControl}>\n          <InputLabel id=\"civility\">Civility</InputLabel>\n          <Select\n            labelId=\"civility\"\n            id=\"civility\"\n            required\n            value={civility}\n            onChange={handleChangeCivility}\n          >\n            <MenuItem value=\"Mr\">Mr</MenuItem>\n            <MenuItem value=\"Mrs\">Mrs</MenuItem>\n            <MenuItem value=\"None\">None</MenuItem>\n          </Select>\n        </FormControl>          \n        <TextField\n          variant=\"outlined\"\n          margin=\"normal\"\n          required\n          fullWidth\n          id=\"Email\"\n          label=\"Email\"\n          name=\"email\"\n          autoComplete=\"Email\"\n          type=\"email\"\n          value={values.email || ''}\n          onChange={handleChange}\n        />\n        <FormControl className={classes.formControl}>\n          <InputLabel shrink>\n            Date Of Birth\n          </InputLabel>        \n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"dateOfBirth\"\n            type=\"date\"\n            id=\"date\"\n            value={values.dateOfBirth}\n            onChange={handleChange}\n          />     \n        </FormControl> \n        <TextField\n          variant=\"outlined\"\n          margin=\"normal\"\n          required\n          fullWidth\n          name=\"plainPassword\"\n          label=\"Password\"\n          type=\"password\"\n          id=\"password\"\n          autoComplete=\"plainPassword\"\n          value={values.plainPassword || ''}\n          onChange={handleChange}\n        />     \n        <TextField\n          variant=\"outlined\"\n          margin=\"normal\"\n          required\n          fullWidth\n          name=\"passwordConfirmation\"\n          label=\"Password confirmation\"\n          type=\"password\"\n          id=\"passwordConfirmation\"\n          autoComplete=\"passwordConfirmation\"\n          value={values.passwordConfirmation || ''}\n          onChange={handleChange}\n        />               \n        <div className={classes.wrapper}>\n          <Button\n            type=\"submit\"\n            className={classes.submit}\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={!!props.loader}\n          >\n            Sign Up\n          </Button>\n          {props.loader}\n        </div>\n      </form>\n    </>\n  );\n}\n\nexport default Signup;\n","/var/www/blog/src/assets/themes/Theme.js",[],{"ruleId":"129","replacedBy":"130"},{"ruleId":"131","replacedBy":"132"},{"ruleId":"133","severity":1,"message":"134","line":1,"column":8,"nodeType":"135","messageId":"136","endLine":1,"endColumn":12},{"ruleId":"133","severity":1,"message":"137","line":3,"column":26,"nodeType":"135","messageId":"136","endLine":3,"endColumn":32},{"ruleId":"133","severity":1,"message":"138","line":3,"column":34,"nodeType":"135","messageId":"136","endLine":3,"endColumn":39},{"ruleId":"133","severity":1,"message":"139","line":8,"column":10,"nodeType":"135","messageId":"136","endLine":8,"endColumn":26},{"ruleId":"133","severity":1,"message":"140","line":10,"column":8,"nodeType":"135","messageId":"136","endLine":10,"endColumn":12},{"ruleId":"133","severity":1,"message":"141","line":17,"column":3,"nodeType":"135","messageId":"136","endLine":17,"endColumn":18},{"ruleId":"133","severity":1,"message":"142","line":18,"column":3,"nodeType":"135","messageId":"136","endLine":18,"endColumn":20},{"ruleId":"133","severity":1,"message":"140","line":12,"column":8,"nodeType":"135","messageId":"136","endLine":12,"endColumn":12},{"ruleId":"133","severity":1,"message":"143","line":1,"column":27,"nodeType":"135","messageId":"136","endLine":1,"endColumn":36},{"ruleId":"133","severity":1,"message":"144","line":82,"column":13,"nodeType":"135","messageId":"136","endLine":82,"endColumn":20},{"ruleId":"133","severity":1,"message":"145","line":91,"column":9,"nodeType":"135","messageId":"136","endLine":91,"endColumn":15},{"ruleId":"133","severity":1,"message":"146","line":8,"column":10,"nodeType":"135","messageId":"136","endLine":8,"endColumn":17},{"ruleId":"133","severity":1,"message":"147","line":7,"column":8,"nodeType":"135","messageId":"136","endLine":7,"endColumn":14},{"ruleId":"133","severity":1,"message":"148","line":8,"column":8,"nodeType":"135","messageId":"136","endLine":8,"endColumn":17},{"ruleId":"133","severity":1,"message":"149","line":25,"column":11,"nodeType":"135","messageId":"136","endLine":25,"endColumn":25},{"ruleId":"133","severity":1,"message":"150","line":25,"column":27,"nodeType":"135","messageId":"136","endLine":25,"endColumn":43},{"ruleId":"133","severity":1,"message":"140","line":20,"column":8,"nodeType":"135","messageId":"136","endLine":20,"endColumn":12},{"ruleId":"133","severity":1,"message":"151","line":103,"column":9,"nodeType":"135","messageId":"136","endLine":103,"endColumn":14},{"ruleId":"133","severity":1,"message":"152","line":8,"column":8,"nodeType":"135","messageId":"136","endLine":8,"endColumn":16},{"ruleId":"153","severity":1,"message":"154","line":15,"column":4,"nodeType":"155","messageId":"156","endLine":15,"endColumn":7},{"ruleId":"129","replacedBy":"157"},{"ruleId":"131","replacedBy":"158"},{"ruleId":"133","severity":1,"message":"149","line":11,"column":5,"nodeType":"135","messageId":"136","endLine":11,"endColumn":19},{"ruleId":"133","severity":1,"message":"150","line":12,"column":5,"nodeType":"135","messageId":"136","endLine":12,"endColumn":21},{"ruleId":"133","severity":1,"message":"159","line":39,"column":9,"nodeType":"135","messageId":"136","endLine":39,"endColumn":15},{"ruleId":"160","severity":1,"message":"161","line":49,"column":14,"nodeType":"162","messageId":"156","endLine":49,"endColumn":16},{"ruleId":"129","replacedBy":"163"},{"ruleId":"131","replacedBy":"164"},{"ruleId":"133","severity":1,"message":"165","line":12,"column":8,"nodeType":"135","messageId":"136","endLine":12,"endColumn":14},{"ruleId":"133","severity":1,"message":"166","line":19,"column":8,"nodeType":"135","messageId":"136","endLine":19,"endColumn":24},{"ruleId":"133","severity":1,"message":"167","line":23,"column":8,"nodeType":"135","messageId":"136","endLine":23,"endColumn":18},{"ruleId":"133","severity":1,"message":"140","line":24,"column":8,"nodeType":"135","messageId":"136","endLine":24,"endColumn":12},"no-native-reassign",["168"],"no-negated-in-lhs",["169"],"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'Router' is defined but never used.","'Route' is defined but never used.","'SnackbarProvider' is defined but never used.","'Grid' is defined but never used.","'isAuthenticated' is assigned a value but never used.","'isRouteAuthorized' is assigned a value but never used.","'useEffect' is defined but never used.","'refresh' is assigned a value but never used.","'secure' is assigned a value but never used.","'loading' is assigned a value but never used.","'Button' is defined but never used.","'GroupIcon' is defined but never used.","'isTokenExpired' is assigned a value but never used.","'getTokenExpireAt' is assigned a value but never used.","'theme' is assigned a value but never used.","'HomeIcon' is defined but never used.","no-dupe-keys","Duplicate key 'top'.","ObjectExpression","unexpected",["168"],["169"],"'method' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression",["168"],["169"],"'Avatar' is defined but never used.","'LockOutlinedIcon' is defined but never used.","'DatePicker' is defined but never used.","no-global-assign","no-unsafe-negation"]